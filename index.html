<!DOCTYPE html>
<html>
  <head>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
  </head>
  <body>
    <a-scene>

      <a-entity 
        gltf-model="url(assets/Gift1.glb)" 
        position="0 1 -3" 
        scale="1 1 1">
      </a-entity>

      <!-- 視点と移動を制御するカメラ -->
      <a-entity 
        id="camera"
        camera 
        position="0 1.6 3" 
        look-controls>
      </a-entity>

      <a-light type="directional" position="1 1 1"></a-light>
      <a-sky color="#ECECEC"></a-sky>
    </a-scene>

    <script>
      window.addEventListener("deviceorientation", (event) => {
        const camera = document.querySelector("#camera");

        const tiltForward = event.beta; // スマホの前後の傾き（前に傾けると前進）
        const tiltSide = event.gamma;   // スマホの左右の傾き（傾けると横移動）

        if (Math.abs(tiltForward) > 10) {
          camera.object3D.position.z -= tiltForward * 0.01;
        }

        if (Math.abs(tiltSide) > 10) {
          camera.object3D.position.x += tiltSide * 0.01;
        }
      });
    </script>
  </body>
</html>